<template>
    <div
      class="flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition-all duration-200 hover:border-lavender-300 focus-within:border-lavender-400 shadow-sm w-full"
    >
      <span class="text-xl mr-3" :aria-label="currency + ' flag'">{{ currencyToFlag[currency] }}</span>
      <div class="flex-1">
        <input
          type="number"
          :value="amount"
          @input="handleInput($event)"
          class="w-full text-2xl font-medium text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-none focus:outline-none focus:ring-0 appearance-textfield"
          :placeholder="currency"
          step="0.01"
          aria-label="Currency amount"
        />
      </div>
      <span class="text-2xl font-semibold text-gray-600 dark:text-gray-300">{{ currency }}</span>
    </div>
  </template>
  
  <script setup lang="ts">
  
    defineProps<{
    currency: string
    amount: number
  }>()
  
  const emit = defineEmits<{
    (e: 'update:amount', value: number): void
  }>()
  
  const currencyToFlag: { [key: string]: string } = {
    USD: 'ðŸ‡ºðŸ‡¸', // United States
    EUR: 'ðŸ‡ªðŸ‡º', // European Union
    GBP: 'ðŸ‡¬ðŸ‡§', // United Kingdom
    JPY: 'ðŸ‡¯ðŸ‡µ', // Japan
    BGN: 'ðŸ‡§ðŸ‡¬', // Bulgaria
    CZK: 'ðŸ‡¨ðŸ‡¿', // Czech Republic
    DKK: 'ðŸ‡©ðŸ‡°', // Denmark
    HUF: 'ðŸ‡­ðŸ‡º', // Hungary
    PLN: 'ðŸ‡µðŸ‡±', // Poland
    RON: 'ðŸ‡·ðŸ‡´', // Romania
    SEK: 'ðŸ‡¸ðŸ‡ª', // Sweden
    CHF: 'ðŸ‡¨ðŸ‡­', // Switzerland
    NOK: 'ðŸ‡³ðŸ‡´', // Norway
    HRK: 'ðŸ‡­ðŸ‡·', // Croatia
    RUB: 'ðŸ‡·ðŸ‡º', // Russia
    TRY: 'ðŸ‡¹ðŸ‡·', // Turkey
    AUD: 'ðŸ‡¦ðŸ‡º', // Australia
    BRL: 'ðŸ‡§ðŸ‡·', // Brazil
    CAD: 'ðŸ‡¨ðŸ‡¦', // Canada
    CNY: 'ðŸ‡¨ðŸ‡³', // China
    HKD: 'ðŸ‡­ðŸ‡°', // Hong Kong
    IDR: 'ðŸ‡®ðŸ‡©', // Indonesia
    ILS: 'ðŸ‡®ðŸ‡±', // Israel
    INR: 'ðŸ‡®ðŸ‡³', // India
    KRW: 'ðŸ‡°ðŸ‡·', // South Korea
    MXN: 'ðŸ‡²ðŸ‡½', // Mexico
    MYR: 'ðŸ‡²ðŸ‡¾', // Malaysia
    NZD: 'ðŸ‡³ðŸ‡¿', // New Zealand
    PHP: 'ðŸ‡µðŸ‡­', // Philippines
    SGD: 'ðŸ‡¸ðŸ‡¬', // Singapore
    THB: 'ðŸ‡¹ðŸ‡­', // Thailand
    ZAR: 'ðŸ‡¿ðŸ‡¦'  // South Africa
  }
  
  const handleInput = (event: Event) => {
    const target = event.target as HTMLInputElement
    if (target) {
      emit('update:amount', Number(target.value))
    }
  }
  </script>
  
  <style scoped>
  input[type='number']::-webkit-outer-spin-button,
  input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  
  /* input[type='number'] {
    -moz-appearance: textfield;
  } */
  </style>