<template>
    <div
      class="flex items-center bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition-all duration-200 hover:border-lavender-300 focus-within:border-lavender-400 shadow-sm w-full"
    >
      <span class="text-xl mr-3" :aria-label="currency + ' flag'">{{ currencyToFlag[currency] }}</span>
      <div class="flex-1">
        <input
          type="number"
          :value="amount"
          @input="emit('update:amount', Number($event.target.value))"
          class="w-full text-2xl font-medium text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-none focus:outline-none focus:ring-0 appearance-textfield"
          :placeholder="currency"
          step="0.01"
          aria-label="Currency amount"
        />
      </div>
      <span class="text-2xl font-semibold text-gray-600 dark:text-gray-300">{{ currency }}</span>
    </div>
  </template>
  
  <script setup lang="ts">
  defineProps<{
    currency: string
    amount: number
  }>()
  
  const emit = defineEmits<{
    (e: 'update:amount', value: number): void
  }>()
  
  const currencyToFlag = {
    USD: 'ğŸ‡ºğŸ‡¸', // United States
    EUR: 'ğŸ‡ªğŸ‡º', // European Union
    GBP: 'ğŸ‡¬ğŸ‡§', // United Kingdom
    JPY: 'ğŸ‡¯ğŸ‡µ', // Japan
    BGN: 'ğŸ‡§ğŸ‡¬', // Bulgaria
    CZK: 'ğŸ‡¨ğŸ‡¿', // Czech Republic
    DKK: 'ğŸ‡©ğŸ‡°', // Denmark
    HUF: 'ğŸ‡­ğŸ‡º', // Hungary
    PLN: 'ğŸ‡µğŸ‡±', // Poland
    RON: 'ğŸ‡·ğŸ‡´', // Romania
    SEK: 'ğŸ‡¸ğŸ‡ª', // Sweden
    CHF: 'ğŸ‡¨ğŸ‡­', // Switzerland
    NOK: 'ğŸ‡³ğŸ‡´', // Norway
    HRK: 'ğŸ‡­ğŸ‡·', // Croatia
    RUB: 'ğŸ‡·ğŸ‡º', // Russia
    TRY: 'ğŸ‡¹ğŸ‡·', // Turkey
    AUD: 'ğŸ‡¦ğŸ‡º', // Australia
    BRL: 'ğŸ‡§ğŸ‡·', // Brazil
    CAD: 'ğŸ‡¨ğŸ‡¦', // Canada
    CNY: 'ğŸ‡¨ğŸ‡³', // China
    HKD: 'ğŸ‡­ğŸ‡°', // Hong Kong
    IDR: 'ğŸ‡®ğŸ‡©', // Indonesia
    ILS: 'ğŸ‡®ğŸ‡±', // Israel
    INR: 'ğŸ‡®ğŸ‡³', // India
    KRW: 'ğŸ‡°ğŸ‡·', // South Korea
    MXN: 'ğŸ‡²ğŸ‡½', // Mexico
    MYR: 'ğŸ‡²ğŸ‡¾', // Malaysia
    NZD: 'ğŸ‡³ğŸ‡¿', // New Zealand
    PHP: 'ğŸ‡µğŸ‡­', // Philippines
    SGD: 'ğŸ‡¸ğŸ‡¬', // Singapore
    THB: 'ğŸ‡¹ğŸ‡­', // Thailand
    ZAR: 'ğŸ‡¿ğŸ‡¦'  // South Africa
  }
  </script>
  
  <style scoped>
  input[type='number']::-webkit-outer-spin-button,
  input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  
  input[type='number'] {
    -moz-appearance: textfield;
  }
  </style>